<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Super Bowl Prop Leaderboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background-color: #f8f9fa; }
        .header-container { background-color: #013369; color: white; padding: 20px; text-align: center; }
        .refresh-btn { margin-top: 10px; }
        .leaderboard-card { margin-top: -20px; border-radius: 15px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        .rank-1 { background-color: #FFD700; font-weight: bold; } /* Gold */
        .rank-2 { background-color: #C0C0C0; font-weight: bold; } /* Silver */
        .rank-3 { background-color: #CD7F32; font-weight: bold; } /* Bronze */
    </style>
</head>
<body>

    <div class="header-container">
        <h1>üèÜ Prop Bet Leaderboard</h1>
        <p>Live Updates during the Big Game</p>
        <button onclick="loadData()" class="btn btn-light btn-sm refresh-btn">üîÑ Refresh Scores</button>
    </div>

    <div class="container pb-5">
        <div class="card leaderboard-card">
            <div class="card-body p-0">
                <table class="table table-striped table-hover mb-0">
                    <thead class="table-dark">
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">Player</th>
                            <th scope="col">Score</th>
                        </tr>
                    </thead>
                    <tbody id="leaderboard-body">
                        <tr><td colspan="3" class="text-center p-3">Loading scores...</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
    
    <script>
        // PASTE YOUR GOOGLE SHEET CSV LINK INSIDE THE QUOTES BELOW
        const sheetUrl = "https://docs.google.com/spreadsheets/d/e/2PACX-1vRL9xTmrB0BqNlEKUZtqaQjzgT2Meh9VQ-kWB11pfr70bb_Wm_Mpf6u36_a7RvPIBp4__CKhuNPUYGI/pub?gid=1666236127&single=true&output=csv";

        function loadData() {
            Papa.parse(sheetUrl, {
                download: true,
                header: true,
                complete: function(results) {
                    const rows = results.data;
                    const tableBody = document.getElementById("leaderboard-body");
                    tableBody.innerHTML = ""; // Clear current list

                    rows.forEach((row, index) => {
                        // Skip empty rows
                        if (!row.Player || !row.Score) return;

                        let tr = document.createElement("tr");
                        
                        // Add highlighting for Top 3
                        if (index === 0) tr.classList.add("rank-1");
                        if (index === 1) tr.classList.add("rank-2");
                        if (index === 2) tr.classList.add("rank-3");

                        tr.innerHTML = `
                            <td>${index + 1}</td>
                            <td>${row.Player}</td>
                            <td>${row.Score}</td>
                        `;
                        tableBody.appendChild(tr);
                    });
                }
            });
        }

        // Load data immediately when page opens
        window.onload = loadData;
    </script>

</body>
</html>